<!-- ADMIN NAVBAR -->
<app-navbar></app-navbar> 
<!-- END OF ADMIN NAVBAR -->


<div class="d-flex" id="wrapper">
  <div class="border-right" id="sidebar-wrapper">
    <div class="sidebar-heading">Admin Dashboard
    </div>
    <div class="list-group list-group-flush" id="sidebar-wrapper-links">
        <a id="anchor" routerLink="/admin-article" class="list-group-item list-group-item-action bg-primary">Articles<span class="ml-auto"><i class="fas fa-newspaper"></i></span></a>
        <a id="anchor" routerLink="/admin" class="list-group-item list-group-item-action bg-primary">Create Article<span class="ml-auto"><i class="fas fa-pen"></i></span></a>
        <a id="anchor" routerLink="/admin-edit-home" class="list-group-item list-group-item-action bg-primary">Edit Home<span class="ml-auto"><i class="fas fa-edit"></i></span></a>
        <a id="anchor" routerLink="/admin-about" class="list-group-item list-group-item-action bg-primary">Edit About<span class="ml-auto"><i class="fas fa-edit"></i></span></a>
        <a id="anchor" routerLink="/admin-services" class="list-group-item list-group-item-active bg-primary">Edit Services<span class="ml-auto"><i class="fas fa-edit"></i></span></a>
    </div>
</div>

  
  <!-- MANAGE ARTICLES SECTION -->
  <div class="container">
    <br>
    <br>
    <h1 class="text-center">Manage Articles</h1>
    <br>


    <section class="my-5">



      <!-- Grid row -->
      <section *ngIf="dataLoaded; else loading">
      <div class="row" *ngFor="let article of articles">



        <!-- Grid column -->
        <div class="col-lg-5">
          <!-- Featured image -->
          <div class="view overlay rounded z-depth-2 mb-lg-0 mb-4">
            <img [src]="article.image" alt="image can't be displayed :(" id="display-image">
          </div>


        </div>
        <!-- Grid column -->



        <!-- Grid column -->
        <div class="col-lg-7">
          <!-- Category -->
          <a class="green-text">
            <p class="green-text font-weight-normal"><i class="far fa-clock pr-2"></i>{{article.date | dateAgo}}</p>
          </a>
          <!-- Post title -->
          <h3 class=" mb-3">{{article.header}}</h3>
          <!-- Excerpt -->

          <!-- <p [innerHtml]="article.text | slice: 0:150"></p> -->
          <p>{{article.text | stripHtml | slice: 0:150}}...</p>
          <!-- Post data -->
          <p><a><strong>{{article.tag}}</strong></a></p>
          <!-- Edit button -->
          <button mdbBtn class="btn btn-primary btn-md" (click)="onEdit(article.image,article.text)"
            [routerLink]="['/admin-edit-articles', article.header, article.subheader, article.tag, article._id, article.date]">Edit <i class="fas fa-edit ml-3"></i></button>
          <!-- Delete button Modal-->

          <button type="button" mdbBtn color="danger" class="btn btn-md waves-light" (click)="swal(article._id)"
            mdbWavesEffect>Delete <i class="fas fa-trash-alt ml-3"></i></button>

        </div>

        <!-- Grid column -->

        <div class="container">
          <hr id="card-hr" class="my-5">
        </div>
      </div>
    </section>
      <!-- Grid row -->

      <!-- FOOTER SECTION -->
      <app-footer></app-footer>
      <!-- END OF FOOTER SECTION -->

    </section>
  </div>



</div>

<ng-template #loading>
  <div class="d-flex justify-content-center">
    <div class="spinner-border" role="status">
      <span class="sr-only">Loading...</span>
    </div>
  </div>
</ng-template>
<!-- END OF MANAGE ARTICLES SECTION -->